// Test the original failing array without switch statements to isolate the issue

print("=== Original Case Test (No Switch) ===");

print("Testing the exact array from the original failing test...");
print("Array: {0, 5, 10, 15, 20}");

var test_values = {0, 5, 10, 15, 20};
print("Array created successfully");

print("Manual indexing verification:");
print("test_values[0] = " + test_values[0]);
print("test_values[1] = " + test_values[1]);
print("test_values[2] = " + test_values[2]);
print("test_values[3] = " + test_values[3]);
print("test_values[4] = " + test_values[4]);

print("Now testing foreach without switch statement:");
var iteration_count = 0;

foreach (test_val in test_values) {
    print("Iteration " + iteration_count + ": value = " + test_val);
    iteration_count = iteration_count + 1;
}

print("Total iterations executed: " + iteration_count);

print("Now testing foreach WITH switch statement (original failing case):");
var iteration_count_with_switch = 0;

foreach (test_val in test_values) {
    print("Processing value: " + test_val);
    iteration_count_with_switch = iteration_count_with_switch + 1;

    switch (test_val) {
        case 0 => { print("Case: Exactly 0"); },
        case 1..5 => { print("Case: Between 1 and 4"); },
        case 5..=10 => { print("Case: Between 5 and 10 (inclusive)"); },
        case 11..20 => { print("Case: Between 11 and 19"); },
        _ => { print("Case: Default (20 or higher)"); }
    }
}

print("Total iterations with switch: " + iteration_count_with_switch);

print("=== Test Results ===");
print("Without switch: " + iteration_count + " iterations");
print("With switch: " + iteration_count_with_switch + " iterations");

if (iteration_count == iteration_count_with_switch) {
    print("RESULT: Both tests had same number of iterations - switch is not the issue");
} else {
    print("RESULT: Different iteration counts - switch statement causes the issue");
}

print("=== Original Case Test Complete ===");
