// Test switch statement with range patterns to isolate the issue

print("=== Switch Statement with Range Patterns Test ===");

// Test 1: Simple switch with ranges
print("\nTest 1: Simple switch with individual values");
var test_val = 15;
print("Testing switch with value: " + test_val);

switch (test_val) {
    case 0 => { print("Case: Exactly 0"); },
    case 1..5 => { print("Case: Between 1 and 4"); },
    case 5..=10 => { print("Case: Between 5 and 10 (inclusive)"); },
    case 11..20 => { print("Case: Between 11 and 19"); },
    _ => { print("Case: Default (20 or higher)"); }
}

// Test 2: Test each problematic value individually
print("\nTest 2: Testing individual values that caused issues");

var values = {0, 5, 10, 15, 20};
print("Created values array: " + values);

// Test each value individually (not in a loop)
print("\nTesting value 0:");
switch (0) {
    case 0 => { print("Case: Exactly 0"); },
    case 1..5 => { print("Case: Between 1 and 4"); },
    case 5..=10 => { print("Case: Between 5 and 10 (inclusive)"); },
    case 11..20 => { print("Case: Between 11 and 19"); },
    _ => { print("Case: Default (20 or higher)"); }
}

print("\nTesting value 5:");
switch (5) {
    case 0 => { print("Case: Exactly 0"); },
    case 1..5 => { print("Case: Between 1 and 4"); },
    case 5..=10 => { print("Case: Between 5 and 10 (inclusive)"); },
    case 11..20 => { print("Case: Between 11 and 19"); },
    _ => { print("Case: Default (20 or higher)"); }
}

print("\nTesting value 10:");
switch (10) {
    case 0 => { print("Case: Exactly 0"); },
    case 1..5 => { print("Case: Between 1 and 4"); },
    case 5..=10 => { print("Case: Between 5 and 10 (inclusive)"); },
    case 11..20 => { print("Case: Between 11 and 19"); },
    _ => { print("Case: Default (20 or higher)"); }
}

print("\nTesting value 15 (this is where the original test failed):");
switch (15) {
    case 0 => { print("Case: Exactly 0"); },
    case 1..5 => { print("Case: Between 1 and 4"); },
    case 5..=10 => { print("Case: Between 5 and 10 (inclusive)"); },
    case 11..20 => { print("Case: Between 11 and 19"); },
    _ => { print("Case: Default (20 or higher)"); }
}

print("\nTesting value 20:");
switch (20) {
    case 0 => { print("Case: Exactly 0"); },
    case 1..5 => { print("Case: Between 1 and 4"); },
    case 5..=10 => { print("Case: Between 5 and 10 (inclusive)"); },
    case 11..20 => { print("Case: Between 11 and 19"); },
    _ => { print("Case: Default (20 or higher)"); }
}

// Test 3: Now try with variables (this might be where the issue is)
print("\nTest 3: Testing with variables from array");
print("Manual access test:");
print("values[0] = " + values[0]);
print("values[3] = " + values[3]); // This is 15, the problematic value

var val_15 = values[3];
print("Extracted val_15 = " + val_15);

// Test switch with extracted variable
print("\nTesting switch with extracted variable:");
switch (val_15) {
    case 0 => { print("Case: Exactly 0"); },
    case 1..5 => { print("Case: Between 1 and 4"); },
    case 5..=10 => { print("Case: Between 5 and 10 (inclusive)"); },
    case 11..20 => { print("Case: Between 11 and 19"); },
    _ => { print("Case: Default (20 or higher)"); }
}

print("\n=== Switch Test Complete ===");
